<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Estadísticas de Jugadores</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-900 text-white">
    <div class="container mx-auto p-6">
        <h1 class="text-3xl font-bold mb-4 text-center">🏆 Estadísticas de Jugadores</h1>
        <div class="overflow-x-auto">
            <table id="tabla" class="min-w-full text-center border border-gray-700 rounded-lg">
                <thead class="bg-gray-800 text-gray-200">
                    <tr>
                        <th class="py-2 px-4">#</th>
                        <th class="py-2 px-4">Jugador</th>
                        <th class="py-2 px-4">Ganadas</th>
                        <th class="py-2 px-4">Perdidas</th>
                        <th class="py-2 px-4">Puntaje</th>
                    </tr>
                </thead>
                <tbody id="tabla-body"></tbody>
            </table>
        </div>
        <div class="text-center mt-6">
            <a href="/" class="text-blue-400 hover:underline">⬅ Volver al inicio</a>
        </div>
    </div>

    <script>
        async function cargarEstadisticas() {
            const res = await fetch('/api/estadisticas');
            const jugadores = await res.json();
            const tbody = document.getElementById('tabla-body');
            tbody.innerHTML = "";

            jugadores.forEach((j, i) => {
                const fila = `
                    <tr class="hover:bg-gray-800">
                        <td class="py-2 px-4">${i + 1}</td>
                        <td class="py-2 px-4">${j.nombre}</td>
                        <td class="py-2 px-4">${j.ganadas}</td>
                        <td class="py-2 px-4">${j.perdidas}</td>
                        <td class="py-2 px-4">${j.puntaje}</td>
                    </tr>
                `;
                tbody.innerHTML += fila;
            });
        }

        cargarEstadisticas();
    </script>
</body>
</html>
